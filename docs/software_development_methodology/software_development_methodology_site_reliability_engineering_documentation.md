---
title: 【IT技術の知見】ドキュメンテーション＠SREing
description: ドキュメンテーション＠SREingの知見を記録しています。
---

# ドキュメンテーション＠SREing

## はじめに

本サイトにつきまして、以下をご認識のほど宜しくお願いいたします。

> ↪️ 参考：https://hiroki-it.github.io/tech-notebook/

<br>

## 01. ドキュメンテーション

### ドキュメンテーションとは

システムに関するあらゆることを体系的にまとめた文書のこと。

> ↪️ 参考：https://www.amazon.co.jp/dp/4873119618

<br>

### ドキュメントの種類

#### ▼ 技術スタック表

システムを構成する技術を分類する。

システムの構成要素が多くなるほど、分類数が多くなる。

| 大分類            | 中分類                   | 小分類                         | システムの使用技術                                                         |
| ----------------- | ------------------------ | ------------------------------ | -------------------------------------------------------------------------- |
| 言語              | アプリ領域               |                                | Go、PHP                                                                    |
|                   | テスト領域               | ブラックボックスのシナリオ定義 | テストツールによる (例：k6sならJavaScript)                                 |
| アプリ            | アーキテクチャ           |                                | マイクロサービスアーキテクチャ、各マイクロサービスはクリーンアーキテクチャ |
|                   | API                      |                                | RPC-API、RESTful-API                                                       |
| CI/CD             | CIツール                 |                                | CircleCI                                                                   |
|                   | CDツール                 |                                | ArgoCD                                                                     |
| ミドルウェア      | Web系                    |                                | Nginx                                                                      |
|                   | アプリケーション系       |                                | FastCGI                                                                    |
|                   | DB系                     |                                | MySQL                                                                      |
|                   | ログ系                   |                                | FluentBit                                                                  |
|                   | セキュリティ系           |                                | Falco                                                                      |
|                   | サービスメッシュ系       |                                | Envoy                                                                      |
| 物理/仮想サーバー | アーキテクチャ           |                                | DRリージョン構成                                                           |
|                   | 仮想サーバー型IaaS       |                                | AWS                                                                        |
| CDN               |                          |                                | AWS                                                                        |
| IaC               |                          |                                | Terraform、Kubernetes、Ansible                                             |
| 監視              | アプリ監視、インフラ監視 |                                | AWS                                                                        |
|                   | ビジネス指標監視         |                                | Metabase                                                                   |
| セキュリティ      | 機密情報のバージョン管理 |                                | Sops、Vault                                                                |
|                   | VPN                      |                                | OpenVPN                                                                    |
| テスト            | ホワイトボックス         |                                | `go test`コマンド、PHPUnit                                                 |
|                   | ブラックボックス         |                                | ChaosMesh、Postman、Taurus                                                 |

#### ▼ 設計ポリシー書

- アーキテクチャ
- 命名規則
- コンポーネント間の依存関係
- ステークホルダー
- プロダクト責任者

#### ▼ 仕様書

- 内部向けAPI仕様書
- 使い方に関する仕様書 (README)

#### ▼ 手順書

- リリース手順書
- 環境構築手順書
- 運用手順書

#### ▼ 調査書

- ポストモーテム

#### ▼ 公開書類

- 外部向けAPI仕様書
- SLA

<br>

## 02. ドキュメントの品質

### 品質の種類

#### ▼ 構造品質

表記と文法の正しさのこと。

機能品質よりは重要度が低い。

#### ▼ 機能品質

ドキュメントの有用さのこと。

ドキュメントをコードと同じディレクトリなどでバージョン管理し、コードの変更に合わせてドキュメントも変更する。

有用性の品質を保つとともに、ドキュメントの場所を明確にする。

<br>

### 品質の維持

#### ▼ 共通編集ツール

ドキュメント共通編集ツール (例：confluence、esa、mkdocs、docusaurus、など) を使用すると、改善しやすくなる (例：フィードバックをもらいやすくなる、誰でも気軽に作成更新できる、構造/機能品質を高めるための機能がある、など) ため、機能品質を高めやすくなる。

#### ▼ 仕様書自動作成ツール

追加/変更した機能に関する仕様書を自動作成し、仕様書の内容についてもレビューできる仕組みを作る。

| 領域             | 技術        | 説明                                                                                                                                         | 補足                                                            |
| ---------------- | ----------- | -------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------- |
| アプリケーション | RESTful-API | RESTful-APIを採用している場合、仕様書作成ツール (例：openapi-generatorなど) を使用して、APIの仕様書のおおよその部分を自動的に作成する。      |                                                                 |
|                  | RPC-API     | RPC-APIを採用している場合、仕様書作成ツール (例：protoc-gen-docなど) を使用して、APIの仕様書のおおよその部分を自動的に作成する。             |                                                                 |
| インフラ         | Helm        | 独自のチャートを採用している場合、外部の仕様書作成ツール (例：helm-docs) を使用して、チャートの仕様書を自動的に作成する。                    | ↪️ 参考：https://github.com/norwoodj/helm-docs                  |
|                  | Terraform   | 外部の仕様書自動作成ツール (例：terraform-docs) を使用して、`variable`ブロック、`output`ブロック、`module`ブロック、などの仕様書を作成する。 | ↪️ 参考：https://qiita.com/yutachaos/items/1a7f5a93ceaf972c76c6 |

<br>
