---
title: 【IT技術の知見】静的解析＠Goのテストツール
description: 静的解析＠Goのテストツールの知見を記録しています。
---

# 静的解析＠Goのテストツール

## はじめに

本サイトにつきまして、以下をご認識のほど宜しくお願いいたします。

> - https://hiroki-it.github.io/tech-notebook/

<br>

## golangci-lint

```yaml
# 実行のオプションを設定する
run:
  concurrency: 4
  timeout: 5m
  issues-exit-code: 2
  tests: false
  build-tags:
    - mytag
  skip-dirs:
    - src/external_libs
    - autogenerated_by_my_lib
  skip-dirs-use-default: false
  skip-files:
    - .*\.my\.go$
    - lib/bad.go
  modules-download-mode: readonly
  allow-parallel-runners: false
  allow-serial-runners: true
  print-resources-usage: true
  go: 1.20

# 結果の出力形式を設定する
output:
  format: json
  print-issued-lines: false
  print-linter-name: false
  uniq-by-line: false
  path-prefix: ''
  sort-results: true

# 使用するリンターにオプションを設定する
linters-settings:
  # staticcheckにオプションを設定する
  staticcheck:
    go: 1.20
    checks: [ "all" ]

  ...

  custom:
    example:
      path: /path/to/example.so
      description: This is an example usage of a plugin linter.
      original-url: github.com/golangci/example-linter

# 使用するリンターを選ぶ
linters:
  disable-all: false
  enable:
    # staticcheckを使用する
    - staticcheck

    ...

  enable-all: false
  disable:
    - golint

    ...

  presets:
    - bugs
    - comment
    - complexity
    - error
    - format
    - import
    - metalinter
    - module
    - performance
    - sql
    - style
    - test
    - unused
  fast: true

# 検証するルールを設定する
issues:
  exclude:
    - abcdef
  exclude-rules:
    - path: _test\.go
      linters:
        - gocyclo
        - errcheck
        - dupl
        - gosec
    - path-except: _test\.go
      linters:
        - forbidigo
    - path: internal/hmac/
      text: weak cryptographic primitive
      linters:
        - gosec
    - linters:
        - staticcheck
      text: 'SA9003:'
    - linters:
        - lll
      source: '^//go:generate '
  exclude-use-default: false
  exclude-case-sensitive: false
  include:
    - EXC0001
    - EXC0002
    - EXC0003
    - EXC0004
    - EXC0005
    - EXC0006
    - EXC0007
    - EXC0008
    - EXC0009
    - EXC0010
    - EXC0011
    - EXC0012
    - EXC0013
    - EXC0014
    - EXC0015
  max-issues-per-linter: 0
  max-same-issues: 0
  new: true
  new-from-rev: HEAD
  new-from-patch: path/to/patch/file
  fix: true
  whole-files: true

# 重要度を設定する
severity:
  default-severity: error
  case-sensitive: true
  rules:
    - linters:
        - dupl
      severity: info
```

> - https://github.com/golangci/golangci-lint/blob/master/.golangci.reference.yml

<br>
