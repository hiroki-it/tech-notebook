---
title: 【IT技術の知見】インシデント＠監視
description: インシデント＠監視の知見を記録しています。
---

# インシデント＠監視

## はじめに

本サイトにつきまして、以下をご認識のほど宜しくお願いいたします。

参考：https://hiroki-it.github.io/tech-notebook-mkdocs/about.html

<br>

## 01. インシデント管理

### インシデントとは

サービスの停止を起こし得る想定外のイベントのこと。

参考：https://www.atlassian.com/ja/incident-management/devops/incident-vs-problem-management

<br>

### インシデント管理

一次オンコール担当は、エラーを解決するためのタスクを作成し、完了させる。エラーがインシデントの場合、担当者はこれを迅速に解決する必要がある。また、二次担当者に通知をエスカレーションさせる。これらを自動化するためのツールがいくつかある。

参考：https://smart-stage.jp/topics/itsm_keyword_relate/p3/

**＊技術ツール例＊**

PagerDuty、Splunk On-call、など

<br>

## 02. インシデント管理の組織化

### インシデントコマンドシステムに基づく役割分離

#### ▼ インシデントコマンドシステムとは

インシデントの発生時に、組織が混乱せずに問題に対処できるようにするためのマネージメント手法のこと。

参考：https://fastalert.jp/column/disaster-prevention/incident-command-system

#### ▼ 指揮

インシデントの状況把握を担当する。また、インシデント担当チームを組織し、各担当者にタスクを割り振る。

#### ▼ 実行

インシデントの解決を担当する。

#### ▼ 計画

ステークホルダーへの状況報告やドキュメントの作成を担当する。

#### ▼ 後方支援

作業者のサポートを担当する。作業者間引継ぎの調整、夕食の発注、などがある。

<br>

## 03. インシデントの事後評価

### MTTxメトリクス

#### ▼ MTTxメトリクスとは

![mttx-metrics](https://raw.githubusercontent.com/hiroki-it/tech-notebook/master/images/mttx-metrics.png)

| 区分           | 説明                                                         |      |
| -------------- | ------------------------------------------------------------ | ---- |
| 検出時間       | インシデントが起こってから、これがオンコール担当にアラートされるまで。 |      |
| エンゲージ時間 | インシデントがオンコール担当にアラートされ、オンコール担当本人/アサインされたエンジニアがタスクとして着手するまで。 |      |
| 修正時間       | オンコール担当がタスクに着手してから、これを完了するまで。   |      |

インシデント管理に要した時間を計測したメトリクスのこと。

参考：

- https://www.amazon.co.jp/dp/4873119618
- https://medium.com/@yoannutc/setting-objectives-for-incident-response-634fff2d8262

#### ▼ ダッシュボード

MTTxメトリクスをダッシュボード化する。実際に時間と目標時間を比較すれば、今回のインシデント管理の良し悪しを判断できるため、インシデント管理自体をソフトウェア開発と同様に反復的に改善しやすくになる。DRI Hops（インシデントの直接的に責任者）の値を使用して人的コストを可視化することにより、エンジニアリングマネージャがインシデント管理を扱いやすくなる。

参考：https://www.amazon.co.jp/dp/4873119618

![mttx-metrics_dash-board](https://raw.githubusercontent.com/hiroki-it/tech-notebook/master/images/mttx-metrics_dash-board.png)

<br>

### ポストモーテム

#### ▼ ポストモーテムとは

アラートで通知されたインシデントがビジネスに大きな影響を与えた場合、振り返りとして、ポストモーテムを作成する。ポストモーテムは、障害報告書とは異なり、原因特定とシステム改善に重きを置いた報告書である。障害報告書は、責任の報告の意味合いが強くなってしまう。

#### ▼ テンプレート

参考：https://ueokande.github.io/incident-response-docs-ja/after/post_mortem_template/

```markdown
# ポストモーテム

## タイトル

## 日付

## 担当者

**※担当者を絶対に責めず、障害は誰のせいでもないという意識を強く持つ。**

## 原因と対応

**※原因特定とシステム改善を最優先にすること**

## システム的/収益的な影響範囲

## 幸運だったこと

## 仕組みの改善策

**※『以後は注意する』ではなく、再発しない仕組み作りになるようにする。**

## 障害発生から対応までのタイムライン

```

<br>
