---
title: 【IT技術の知見】システム
description: システムの知見を記録しています。
---

# システム

## はじめに

本サイトにつきまして、以下をご認識のほど宜しくお願いいたします。

> - https://hiroki-it.github.io/tech-notebook/

<br>

## 01. システム

### システムとは

ソフトウェア (OS、ミドルウェア、アプリケーション) とハードウェアの要素と合わせたグループのこと。

![software](https://raw.githubusercontent.com/hiroki-it/tech-notebook-images/master/images/software.png)

> - https://thinkit.co.jp/article/11526

<br>

### 構成要素の関係性

ユーザーの操作による命令が、ソフトウェアを介して、ハードウェアに伝わるまで、を以下に示す。

![ソフトウェアとハードウェア](https://raw.githubusercontent.com/hiroki-it/tech-notebook-images/master/images/ソフトウェアとハードウェア.png)

<br>

## 02. Webシステム

### Webシステムとは

システムのうちで、特にWeb技術に関するもののこと。

ハードウェアとしてのwebサーバー/appサーバー/dbサーバーと、Webに関するソフトウェアからなる。

近年は、仮想環境を使用してWebシステムのハードウェア部分を作成することが多い。

そのため、Web/App/dbサーバーではなく、仮想Web/App/DB環境と呼ぶ方が適切かもしれない。

![web-server_app-server_db-server](https://raw.githubusercontent.com/hiroki-it/tech-notebook-images/master/images/web-server_app-server_db-server.png)

> - http://www.iwass.co.jp/dev/devweb.html

<br>

### Webシステムのミドルウェア

| 経路             | ミドルウェア例                          |
| ---------------- | :-------------------------------------- |
| リバースプロキシ | Envoy、Nginx                            |
| ⬇︎⬆︎           | ⬇︎⬆︎                                  |
| webサーバー      | Apache 、いらない (Go、Node.js)         |
| ⬇︎⬆︎           | ⬇︎⬆︎                                  |
| appサーバー      | Tomcat、Uvicorn、いらない (Go、Node.js) |
| ⬇︎⬆︎           | ⬇︎⬆︎                                  |
| dbサーバー       | NySQL、PostgreSQL                       |

> - https://teratail.com/questions/103909
> - https://qiita.com/tanayasu1228/items/11e22a18dbfa796745b5#%E3%81%93%E3%81%93%E3%81%A7%E7%96%91%E5%95%8F%E3%81%AB%E6%80%9D%E3%81%86%E3%81%93%E3%81%A8%E3%81%8C%E3%81%82%E3%82%8A%E3%81%BE%E3%81%99%E3%82%88%E3%81%AD

<br>

## 02-02. webサーバー

### webサーバーとは

リバースプロキシのミドルウェア (例：Apache、Nginxなど) を稼働させるためのサーバーのこと。

また、webサーバーかつappサーバーのミドルウェアとして動作する (例：NGINX Unit) がインストールされていることもある。

<br>

### 能力

#### ▼ 静的コンテンツのレスポンス

ブラウザから静的コンテンツのみのリクエストがあった場合、静的コンテンツをレスポンスする。

appサーバーにはリクエストを送信しない。

| 経路             | 静的コンテンツ |
| ---------------- | :------------- |
| リバースプロキシ | Envoy、Nginx   |
| ⬇︎⬆︎           | ⬇︎⬆︎         |
| webサーバー      | 静的レス       |
| ⬇︎⬆︎           |                |
| appサーバー      |                |
| ⬇︎⬆︎           |                |
| dbサーバー       |                |

#### ▼ 静的 + 動的コンテンツのレスポンス

静的コンテンツと動的コンテンツの両方のリクエストがあった場合、appサーバーに動的コンテンツのリクエストを送信する。

appサーバーからレスポンスを受け取り、ブラウザにレスポンスを行う。

| 経路             | 静的コンテンツ + 動的コンテンツ |
| ---------------- | :------------------------------ |
| リバースプロキシ | Envoy、Nginx                    |
| ⬇︎⬆︎           | ⬇︎⬆︎                          |
| webサーバー      | 静的レス                        |
| ⬇︎⬆︎           | ⬇︎⬆︎                          |
| appサーバー      | 動的レス                        |
| ⬇︎⬆︎           |                                 |
| dbサーバー       |                                 |

<br>

## 02-03. appサーバー

### appサーバーとは

Webアプリケーションのミドルウェア (例：PHPならPHP-FPM、JavaならTomcat) を稼働させるためのサーバーのこと。

<br>

### 能力

#### ▼ 動的コンテンツのレスポンス

webサーバーから動的コンテンツのリクエストがあった場合、プログラミング言語を言語プロセッサーで翻訳し、dbサーバーにクエリを実行する。

dbサーバーからのレスポンスを受け取り、webサーバーに動的なコンテンツのレスポンスを行う。

| 経路             | 静的コンテンツ+動的コンテンツ |
| ---------------- | :---------------------------- |
| リバースプロキシ | Envoy、Nginx                  |
| ⬇︎⬆︎           | ⬇︎⬆︎                        |
| webサーバー      | 静的レス                      |
| ⬇︎⬆︎           | ⬇︎⬆︎                        |
| appサーバー      | 動的レス                      |
| ⬇︎⬆︎           | ⬇︎⬆︎                        |
| dbサーバー       | データ返却                    |

<br>

## 02-04. dbサーバー

### dbサーバーとは

DB管理システムを稼働させるためのサーバーのこと。

<br>

## 02-05. フォワード/リバースプロキシサーバー

### フォワード/リバースプロキシサーバーとは

クライアントとアプリケーションの間にあり、代理ルーティングやキャッシュ作成を担う。

<br>

### 能力

#### ▼ 代理ルーティング

![フォワードプロキシサーバーとリバースプロキシサーバー](https://raw.githubusercontent.com/hiroki-it/tech-notebook-images/master/images/フォワードプロキシサーバーとリバースプロキシサーバー.png)

| サーバー名                 | 処理                                                                                                                                   |
| -------------------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| フォワードプロキシサーバー | 特定のクライアントのアウトバウンド通信を、不特定多数のサーバーに代理でルーティングする。                                               |
| リバースプロキシサーバー   | 不特定のクライアントからのインバウンド通信を、特定のサーバーに代理でルーティングする。また、ロードバランサーのように負荷分散もできる。 |

> - https://qiita.com/att55/items/162950627dc593c72f23

#### ▼ キャッシュ

![プロキシサーバーのキャッシュ能力](https://raw.githubusercontent.com/hiroki-it/tech-notebook-images/master/images/プロキシサーバーのキャッシュ能力.png)

| サーバー名                 | 処理                                                                     |
| -------------------------- | ------------------------------------------------------------------------ |
| フォワードプロキシサーバー | クライアント側にて、代理ルーティングのレスポンスのキャッシュを作成する。 |
| リバースプロキシサーバー   | サーバー側にて、代理ルーティングのレスポンスのキャッシュを作成する。     |

> - https://software.fujitsu.com/jp/manual/manualfiles/M100003/B1WN9491/07Z201/ihs02/ihs00016.htm

<br>

### 配置場所

#### ▼ 物理サーバーの場合

フォワードプロキシサーバーはプロバイダの会社に、リバースプロキシサーバーはリクエスト先の社内ネットワークに配置されている。

![proxy-server](https://raw.githubusercontent.com/hiroki-it/tech-notebook-images/master/images/proxy-server.png)

#### ▼ クラウド上の場合

クラウドの場合も、仮想環境が作成されるのみで、配置場所は同じである。

- Akamai
- AWS CloudFront
- CDNetworks
- Cloudflare
- Fastly

> - https://www.underworks.co.jp/dmj/2023/01/23/content-delivery-network-service/

<br>
