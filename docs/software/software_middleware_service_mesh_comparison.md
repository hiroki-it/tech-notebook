---
title: 【IT技術の知見】サービスメッシュ採用に関わる比較＠サービスメッシュ
description: サービスメッシュ採用に関わる比較＠サービスメッシュの知見を記録しています。
---

# 比較＠サービスメッシュ

## はじめに

本サイトにつきまして、以下をご認識のほど宜しくお願いいたします。

> ↪️ 参考：https://hiroki-it.github.io/tech-notebook/

<br>

## 01. サービスメッシュ採用に関わる比較

サービスメッシュを採用しない場合 (Kubernetesのみ) と比較して、各サービスメッシュのツールがインフラ領域のどんな責務を実装してくれるかを比較する。

もしサービスメッシュを採用しない場合、サービスメッシュに代わる責務をアプリ領域に実装する必要がある。

> ↪️ 参考：
>
> - https://www.amazon.co.jp/dp/1492043788
> - https://servicemesh.es/

<br>

## 02. アーキテクチャ

### サービスメッシュのパターン

| 能力 (執筆時点2023/03/11)  | Kubernetes | Istio | Linkerd | Consul | AWS App Mesh |
| -------------------------- | :--------: | :---: | :-----: | :----: | :----------: |
| サイドカープロキシメッシュ |     -      |  ⭕️  |   ⭕️   |  ⭕️   |     ⭕️      |
| Nodeプロキシメッシュ       |     -      |  ⭕️  |    ×    |   ×    |      ×       |

<br>

### 外部データプレーン

| 能力 (執筆時点2023/03/11)                                       | Kubernetes | Istio | Linkerd | Consul | AWS App Mesh |
| --------------------------------------------------------------- | :--------: | :---: | :-----: | :----: | :----------: |
| 異なるClusterにあるデータプレーンの管理 (マルチClusterメッシュ) |     -      |  ⭕️  |   ⭕️   |  ⭕️   |      ×       |
| 仮想サーバーにあるデータプレーンの管理                          |     -      |  ⭕️  |    ×    |  ⭕️   |     ⭕️      |

<br>

### Kubernetesとの親和性

| 能力 (執筆時点2023/03/11) | Kubernetes | Istio | Linkerd | Consul | AWS App Mesh |
| ------------------------- | :--------: | :---: | :-----: | :----: | :----------: |
| Ingressコントローラー     |     -      |  ⭕️  |   ⭕️   |  ⭕️   |      ×       |
| Egressコントローラー      |     -      |  ⭕️  |    ×    |   ×    |      ×       |
| カスタムリソース          |     -      |  ⭕️  |   ⭕️   |   ×    |      ×       |

<br>

## 02. トラフィック管理

### プロトコル

| 能力 (執筆時点2023/03/11) | Kubernetes | Istio | Linkerd | Consul | AWS App Mesh |
| ------------------------- | :--------: | :---: | :-----: | :----: | :----------: |
| TCP                       |    ⭕️     |  ⭕️  |   ⭕️   |  ⭕️   |     ⭕️      |
| HTTP/1.2                  |    ⭕️     |  ⭕️  |   ⭕️   |  ⭕️   |     ⭕️      |
| HTTP/2.0                  |    ⭕️     |  ⭕️  |   ⭕️   |  ⭕️   |     ⭕️      |
| gRPC                      |    ⭕️     |  ⭕️  |   ⭕️   |  ⭕️   |     ⭕️      |

<br>

### ネットワーク

| 能力 (執筆時点2023/03/11)                           | Kubernetes | Istio | Linkerd | Consul | AWS App Mesh |
| --------------------------------------------------- | :--------: | :---: | :-----: | :----: | :----------: |
| サービスディスカバリー                              |    ⭕️     |  ⭕️  |   ⭕️   |  ⭕️   |     ⭕️      |
| ロードバランシング                                  |    ⭕️     |  ⭕️  |   ⭕️   |  ⭕️   |     ⭕️      |
| ルーティング (ホストベース、パスベース、割合ベース) |    ⭕️     |  ⭕️  |    ×    |   ×    |      ×       |
| CNIアドオン                                         |     ×      |  ⭕️  |   ⭕️   |  ⭕️   |     ⭕️      |

<br>

## 03. 回復

| 能力 (執筆時点2023/03/11)         | Kubernetes | Istio | Linkerd | Consul | AWS App Mesh |
| --------------------------------- | :--------: | :---: | :-----: | :----: | :----------: |
| サーキットブレイカー              |     ×      |  ⭕️  |    ×    |  ⭕️   |     ⭕️      |
| フォールトインジェクション        |     ×      |  ⭕️  |   ⭕️   |   ×    |      ×       |
| 再試行処理                        |    ⭕️     |  ⭕️  |   ⭕️   |  ⭕️   |     ⭕️      |
| タイムアウト                      |    ⭕️     |  ⭕️  |   ⭕️   |  ⭕️   |     ⭕️      |
| リクエスト数制限 (レートリミット) |     ×      |  ⭕️  |   ⭕️   |  ⭕️   |     ⭕️      |

<br>

## 04. 認証/認可

| 能力 (執筆時点2023/03/11) | Kubernetes | Istio | Linkerd | Consul | AWS App Mesh |
| ------------------------- | :--------: | :---: | :-----: | :----: | :----------: |
| ポリシーベースのACL       |     ×      |  ⭕️  |    ×    |   ×    |      ×       |
| 意図ベースのACL           |     ×      |   ×   |    ×    |  ⭕️   |      ×       |

<br>

## 05. 通信データの暗号化

| 能力 (執筆時点2023/03/11) | Kubernetes | Istio | Linkerd | Consul | AWS App Mesh |
| ------------------------- | :--------: | :---: | :-----: | :----: | :----------: |
| SSL証明書のローテーション |     ×      |  ⭕️  |    ×    |  ⭕️   |     ⭕️      |
| 相互TLS                   |     ×      |  ⭕️  |   ⭕️   |  ⭕️   |     ⭕️      |
| Spiffeに対応              |     ×      |  ⭕️  |    ×    |  ⭕️   |      ×       |

<br>

## 06. テレメトリー管理

### ログの場合

| 能力 (執筆時点2023/03/11)            | Kubernetes | Istio | Linkerd | Consul | AWS App Mesh |
| ------------------------------------ | :--------: | :---: | :-----: | :----: | :----------: |
| マイクロサービスの実行ログの収集     |     ×      |   ×   |    ×    |   ×    |      ×       |
| マイクロサービスのアクセスログの収集 |     ×      |  ⭕️  |    ×    |  ⭕️   |     ⭕️      |

<br>

### メトリクスの場合

| 能力 (執筆時点2023/03/11)                                    | Kubernetes | Istio | Linkerd | Consul | AWS App Mesh |
| ------------------------------------------------------------ | :--------: | :---: | :-----: | :----: | :----------: |
| ゴールデンシグナルの収集                                     |     ×      |  ⭕️  |   ⭕️   |  ⭕️   |     ⭕️      |
| エンドポイント別のメトリクスフィルタリング                   |     ×      |  ⭕️  |   ⭕️   |  ⭕️   |      ×       |
| メトリクス収集ツール (例：Prometheusなど) からのプル型の受信 |     ×      |  ⭕️  |   ⭕️   |  ⭕️   |      ×       |

<br>

### 分散トレースの場合

| 能力 (執筆時点2023/03/11)                                                      | Kubernetes | Istio | Linkerd | Consul | AWS App Mesh |
| ------------------------------------------------------------------------------ | :--------: | :---: | :-----: | :----: | :----------: |
| 分散トレース収集ツール (例：jaegerコレクター、zipkinコレクター、など) への送信 |     ×      |  ⭕️  |   ⭕️   |  ⭕️   |     ⭕️      |

<br>

### メッシュトポロジー

| 能力 (執筆時点2023/03/11) | Kubernetes | Istio | Linkerd | Consul | AWS App Mesh |
| ------------------------- | :--------: | :---: | :-----: | :----: | :----------: |
| ダッシュボード            |     ×      |  ⭕️  |   ⭕️   |  ⭕️   |     ⭕️      |

<br>
